def longest_substring(str)
  current_max = ''
  longest_max = ''
  
  str.each_char do |letter|
    current_max = '' if current_max.index(letter)
    current_max << letter
    longest_max = current_max if current_max.length > longest_max.length
  end
  
  longest_max.length
end

puts longest_substring("abcabcbb") == 3
puts longest_substring("bbbbb") == 1
puts longest_substring("qwerqwe") == 4
